    // Copyright Epic Games, Inc. All Rights Reserved.

    #pragma once

    #include "CoreMinimal.h"
    #include "GameFramework/GameModeBase.h"
    #include "BomberMan_012025GameMode.generated.h"

    class ABloque;
    class ABloqueLadrillo;

    UCLASS(minimalapi)
    class ABomberMan_012025GameMode : public AGameModeBase
    {
	    GENERATED_BODY()

    public:
	    ABomberMan_012025GameMode();
    
	    virtual void BeginPlay() override;
    
        void AsignarMovimientosAleatorios();

        void DesaparecerBloquesMadera();

        //destruir bloque madera
        FTimerHandle MaderaTimerHandle;

        // Declarar un mapa de bloques como un array bidimensional
       TArray<TArray<int32>> aMapaBloques = {
            {
    {4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4},
    {4, 0, 2, 0, 1, 0, 8, 0, 10, 0, 2, 0, 2, 0, 5, 0, 9, 0, 1, 0, 6, 0, 8, 0, 2, 0, 7, 0, 5, 0, 8, 0, 10, 0, 2, 0, 2, 0, 1, 0, 9, 0, 2, 0, 8, 0, 3, 0, 6, 4},
    {4, 2, 2, 0, 2, 0, 7, 0, 1, 0, 9, 0, 1, 0, 6, 0, 2, 0, 8, 0, 2, 2, 9, 0, 5, 0, 6, 0, 7, 0, 10, 0, 2, 0, 8, 0, 10, 0, 1, 0, 6, 0, 7, 0, 9, 0, 2, 0, 8, 4},
    {4, 0, 1, 0, 10, 0, 1, 0, 8, 0, 2, 0, 7, 0, 10, 0, 1, 0, 8, 0, 2, 0, 5, 0, 7, 0, 10, 0, 9, 0, 2, 0, 10, 0, 3, 0, 1, 0, 8, 0, 5, 0, 2, 0, 2, 0, 1, 0, 8, 4},
    {4, 1, 2, 1, 2, 1, 2, 1, 2, 1, 8, 1, 2, 1, 10, 1, 7, 1, 5, 1, 2, 1, 2, 1, 9, 1, 2, 1, 2, 1, 8, 1, 10, 1, 7, 1, 6, 1, 5, 1, 2, 1, 2, 1, 9, 1, 8, 1, 6, 4},
    {4, 0, 2, 0, 0, 2, 0, 0, 10, 0, 0, 3, 0, 2, 0, 2, 0, 0, 7, 0, 0, 3, 0, 9, 0, 0, 2, 0, 5, 0, 0, 8, 0, 0, 10, 0, 7, 0, 8, 0, 0, 2, 0, 6, 0, 0, 9, 0, 0, 4},
    {4, 0, 8, 0, 9, 0, 3, 0, 10, 0, 2, 0, 9, 0, 2, 0, 6, 0, 10, 0, 7, 0, 5, 0, 8, 0, 2, 0, 7, 0, 10, 0, 9, 0, 8, 0, 1, 0, 6, 0, 2, 0, 10, 0, 7, 0, 2, 0, 6, 4},
    {4, 2, 1, 2, 1, 2, 1, 2, 1, 2, 9, 1, 10, 1, 2, 1, 8, 1, 2, 1, 5, 1, 9, 1, 7, 1, 2, 1, 10, 1, 5, 1, 7, 1, 2, 1, 6, 1, 2, 1, 8, 1, 10, 1, 2, 1, 7, 1, 5, 4},
    {4, 0, 2, 0, 10, 0, 2, 0, 6, 0, 7, 0, 8, 0, 10, 0, 2, 0, 2, 0, 4, 0, 8, 0, 2, 0, 10, 0, 6, 0, 5, 0, 5, 0, 8, 0, 2, 0, 6, 0, 9, 0, 5, 0, 3, 0, 9, 0, 10, 4},
    {4, 6, 9, 7, 8, 5, 2, 8, 0, 7, 9, 10, 0, 2, 0, 5, 10, 1, 10, 3, 5, 4, 2, 0, 5, 6, 9, 10, 1, 2, 7, 5, 8, 6, 2, 10, 3, 10, 1, 8, 9, 7, 3, 5, 8, 0, 0, 10, 0, 4},
    {4, 0, 2, 0, 1, 0, 8, 0, 10, 0, 2, 0, 2, 0, 5, 0, 9, 0, 1, 0, 6, 0, 8, 0, 2, 0, 7, 0, 5, 0, 8, 0, 10, 0, 2, 0, 2, 0, 1, 0, 9, 0, 2, 0, 8, 0, 3, 0, 6, 4},
    {4, 2, 2, 0, 2, 0, 7, 0, 1, 0, 9, 0, 1, 0, 6, 0, 2, 0, 8, 0, 2, 2, 9, 0, 5, 0, 6, 0, 7, 0, 10, 0, 2, 0, 8, 0, 10, 0, 1, 0, 6, 0, 7, 0, 9, 0, 2, 0, 8, 4},
    {4, 0, 1, 0, 10, 0, 1, 0, 8, 0, 2, 0, 7, 0, 10, 0, 1, 0, 8, 0, 2, 0, 5, 0, 7, 0, 10, 0, 9, 0, 2, 0, 10, 0, 3, 0, 1, 0, 8, 0, 5, 0, 2, 0, 2, 0, 1, 0, 8, 4},
    {4, 1, 2, 1, 2, 1, 2, 1, 2, 1, 8, 1, 2, 1, 10, 1, 7, 1, 5, 1, 2, 1, 2, 1, 9, 1, 2, 1, 2, 1, 8, 1, 10, 1, 7, 1, 6, 1, 5, 1, 2, 1, 2, 1, 9, 1, 8, 1, 6, 4},
    {4, 0, 2, 0, 0, 2, 0, 0, 10, 0, 0, 3, 0, 2, 0, 2, 0, 0, 7, 0, 0, 3, 0, 9, 0, 0, 2, 0, 5, 0, 0, 8, 0, 0, 10, 0, 7, 0, 8, 0, 0, 2, 0, 6, 0, 0, 9, 0, 0, 4},
    {4, 0, 8, 0, 9, 0, 3, 0, 10, 0, 2, 0, 9, 0, 2, 0, 6, 0, 10, 0, 7, 0, 5, 0, 8, 0, 2, 0, 7, 0, 10, 0, 9, 0, 8, 0, 1, 0, 6, 0, 2, 0, 10, 0, 7, 0, 2, 0, 6, 4},
    {4, 2, 1, 2, 1, 2, 1, 2, 1, 2, 9, 1, 10, 1, 2, 1, 8, 1, 2, 1, 5, 1, 9, 1, 7, 1, 2, 1, 10, 1, 5, 1, 7, 1, 2, 1, 6, 1, 2, 1, 8, 1, 10, 1, 2, 1, 7, 1, 5, 4},
    {4, 0, 2, 0, 10, 0, 2, 0, 6, 0, 7, 0, 8, 0, 10, 0, 2, 0, 2, 0, 4, 0, 8, 0, 2, 0, 10, 0, 6, 0, 5, 0, 5, 0, 8, 0, 2, 0, 6, 0, 9, 0, 5, 0, 3, 0, 9, 0, 10, 4},
    {4, 6, 9, 7, 8, 5, 2, 8, 0, 7, 9, 10, 0, 2, 0, 5, 10, 1, 10, 3, 5, 4, 2, 0, 5, 6, 9, 10, 1, 2, 7, 5, 8, 6, 2, 10, 3, 10, 1, 8, 9, 7, 3, 5, 8, 0, 0, 10, 0, 4},
    {4, 0, 2, 0, 1, 0, 8, 0, 10, 0, 2, 0, 2, 0, 5, 0, 9, 0, 1, 0, 6, 0, 8, 0, 2, 0, 7, 0, 5, 0, 8, 0, 10, 0, 2, 0, 2, 0, 1, 0, 9, 0, 2, 0, 8, 0, 3, 0, 6, 4},
    {4, 2, 2, 0, 2, 0, 7, 0, 1, 0, 9, 0, 1, 0, 6, 0, 2, 0, 8, 0, 2, 2, 9, 0, 5, 0, 6, 0, 7, 0, 10, 0, 2, 0, 8, 0, 10, 0, 1, 0, 6, 0, 7, 0, 9, 0, 2, 0, 8, 4},
    {4, 0, 1, 0, 10, 0, 1, 0, 8, 0, 2, 0, 7, 0, 10, 0, 1, 0, 8, 0, 2, 0, 5, 0, 7, 0, 10, 0, 9, 0, 2, 0, 10, 0, 3, 0, 1, 0, 8, 0, 5, 0, 2, 0, 2, 0, 1, 0, 8, 4},
    {4, 1, 2, 1, 2, 1, 2, 1, 2, 1, 8, 1, 2, 1, 10, 1, 7, 1, 5, 1, 2, 1, 2, 1, 9, 1, 2, 1, 2, 1, 8, 1, 10, 1, 7, 1, 6, 1, 5, 1, 2, 1, 2, 1, 9, 1, 8, 1, 6, 4},
    {4, 0, 2, 0, 0, 2, 0, 0, 10, 0, 0, 3, 0, 2, 0, 2, 0, 0, 7, 0, 0, 3, 0, 9, 0, 0, 2, 0, 5, 0, 0, 8, 0, 0, 10, 0, 7, 0, 8, 0, 0, 2, 0, 6, 0, 0, 9, 0, 0, 4},
    {4, 0, 8, 0, 9, 0, 3, 0, 10, 0, 2, 0, 9, 0, 2, 0, 6, 0, 10, 0, 7, 0, 5, 0, 8, 0, 2, 0, 7, 0, 10, 0, 9, 0, 8, 0, 1, 0, 6, 0, 2, 0, 10, 0, 7, 0, 2, 0, 6, 4},
    {4, 2, 1, 2, 1, 2, 1, 2, 1, 2, 9, 1, 10, 1, 2, 1, 8, 1, 2, 1, 5, 1, 9, 1, 7, 1, 2, 1, 10, 1, 5, 1, 7, 1, 2, 1, 6, 1, 2, 1, 8, 1, 10, 1, 2, 1, 7, 1, 5, 4},
    {4, 0, 2, 0, 10, 0, 2, 0, 6, 0, 7, 0, 8, 0, 10, 0, 2, 0, 2, 0, 4, 0, 8, 0, 2, 0, 10, 0, 6, 0, 5, 0, 5, 0, 8, 0, 2, 0, 6, 0, 9, 0, 5, 0, 3, 0, 9, 0, 10, 4},
    {4, 6, 9, 7, 8, 5, 2, 8, 0, 7, 9, 10, 0, 2, 0, 5, 10, 1, 10, 3, 5, 4, 2, 0, 5, 6, 9, 10, 1, 2, 7, 5, 8, 6, 2, 10, 3, 10, 1, 8, 9, 7, 3, 5, 8, 0, 0, 10, 0, 4},
    {4, 0, 2, 0, 1, 0, 8, 0, 10, 0, 2, 0, 2, 0, 5, 0, 9, 0, 1, 0, 6, 0, 8, 0, 2, 0, 7, 0, 5, 0, 8, 0, 10, 0, 2, 0, 2, 0, 1, 0, 9, 0, 2, 0, 8, 0, 3, 0, 6, 4},
    {4, 2, 2, 0, 2, 0, 7, 0, 1, 0, 9, 0, 1, 0, 6, 0, 2, 0, 8, 0, 2, 2, 9, 0, 5, 0, 6, 0, 7, 0, 10, 0, 2, 0, 8, 0, 10, 0, 1, 0, 6, 0, 7, 0, 9, 0, 2, 0, 8, 4},
    {4, 0, 1, 0, 10, 0, 1, 0, 8, 0, 2, 0, 7, 0, 10, 0, 1, 0, 8, 0, 2, 0, 5, 0, 7, 0, 10, 0, 9, 0, 2, 0, 10, 0, 3, 0, 1, 0, 8, 0, 5, 0, 2, 0, 2, 0, 1, 0, 8, 4},
    {4, 1, 2, 1, 2, 1, 2, 1, 2, 1, 8, 1, 2, 1, 10, 1, 7, 1, 5, 1, 2, 1, 2, 1, 9, 1, 2, 1, 2, 1, 8, 1, 10, 1, 7, 1, 6, 1, 5, 1, 2, 1, 2, 1, 9, 1, 8, 1, 6, 4},
    {4, 0, 2, 0, 0, 2, 0, 0, 10, 0, 0, 3, 0, 2, 0, 2, 0, 0, 7, 0, 0, 3, 0, 9, 0, 0, 2, 0, 5, 0, 0, 8, 0, 0, 10, 0, 7, 0, 8, 0, 0, 2, 0, 6, 0, 0, 9, 0, 0, 4},
    {4, 0, 8, 0, 9, 0, 3, 0, 10, 0, 2, 0, 9, 0, 2, 0, 6, 0, 10, 0, 7, 0, 5, 0, 8, 0, 2, 0, 7, 0, 10, 0, 9, 0, 8, 0, 1, 0, 6, 0, 2, 0, 10, 0, 7, 0, 2, 0, 6, 4},
    {4, 2, 1, 2, 1, 2, 1, 2, 1, 2, 9, 1, 10, 1, 2, 1, 8, 1, 2, 1, 5, 1, 9, 1, 7, 1, 2, 1, 10, 1, 5, 1, 7, 1, 2, 1, 6, 1, 2, 1, 8, 1, 10, 1, 2, 1, 7, 1, 5, 4},
    {4, 0, 2, 0, 10, 0, 2, 0, 6, 0, 7, 0, 8, 0, 10, 0, 2, 0, 2, 0, 4, 0, 8, 0, 2, 0, 10, 0, 6, 0, 5, 0, 5, 0, 8, 0, 2, 0, 6, 0, 9, 0, 5, 0, 3, 0, 9, 0, 10, 4},
    {4, 6, 9, 7, 8, 5, 2, 8, 0, 7, 9, 10, 0, 2, 0, 5, 10, 1, 10, 3, 5, 4, 2, 0, 5, 6, 9, 10, 1, 2, 7, 5, 8, 6, 2, 10, 3, 10, 1, 8, 9, 7, 3, 5, 8, 0, 0, 10, 0, 4},
    {4, 0, 2, 0, 1, 0, 8, 0, 10, 0, 2, 0, 2, 0, 5, 0, 9, 0, 1, 0, 6, 0, 8, 0, 2, 0, 7, 0, 5, 0, 8, 0, 10, 0, 2, 0, 2, 0, 1, 0, 9, 0, 2, 0, 8, 0, 3, 0, 6, 4},
    {4, 2, 2, 0, 2, 0, 7, 0, 1, 0, 9, 0, 1, 0, 6, 0, 2, 0, 8, 0, 2, 2, 9, 0, 5, 0, 6, 0, 7, 0, 10, 0, 2, 0, 8, 0, 10, 0, 1, 0, 6, 0, 7, 0, 9, 0, 2, 0, 8, 4},
    {4, 0, 1, 0, 10, 0, 1, 0, 8, 0, 2, 0, 7, 0, 10, 0, 1, 0, 8, 0, 2, 0, 5, 0, 7, 0, 10, 0, 9, 0, 2, 0, 10, 0, 3, 0, 1, 0, 8, 0, 5, 0, 2, 0, 2, 0, 1, 0, 8, 4},
    {4, 1, 2, 1, 2, 1, 2, 1, 2, 1, 8, 1, 2, 1, 10, 1, 7, 1, 5, 1, 2, 1, 2, 1, 9, 1, 2, 1, 2, 1, 8, 1, 10, 1, 7, 1, 6, 1, 5, 1, 2, 1, 2, 1, 9, 1, 8, 1, 6, 4},
    {4, 0, 2, 0, 0, 2, 0, 0, 10, 0, 0, 3, 0, 2, 0, 2, 0, 0, 7, 0, 0, 3, 0, 9, 0, 0, 2, 0, 5, 0, 0, 8, 0, 0, 10, 0, 7, 0, 8, 0, 0, 2, 0, 6, 0, 0, 9, 0, 0, 4},
    {4, 0, 8, 0, 9, 0, 3, 0, 10, 0, 2, 0, 9, 0, 2, 0, 6, 0, 10, 0, 7, 0, 5, 0, 8, 0, 2, 0, 7, 0, 10, 0, 9, 0, 8, 0, 1, 0, 6, 0, 2, 0, 10, 0, 7, 0, 2, 0, 6, 4},
    {4, 2, 1, 2, 1, 2, 1, 2, 1, 2, 9, 1, 10, 1, 2, 1, 8, 1, 2, 1, 5, 1, 9, 1, 7, 1, 2, 1, 10, 1, 5, 1, 7, 1, 2, 1, 6, 1, 2, 1, 8, 1, 10, 1, 2, 1, 7, 1, 5, 4},
    {4, 0, 2, 0, 10, 0, 2, 0, 6, 0, 7, 0, 8, 0, 10, 0, 2, 0, 2, 0, 4, 0, 8, 0, 2, 0, 10, 0, 6, 0, 5, 0, 5, 0, 8, 0, 2, 0, 6, 0, 9, 0, 5, 0, 3, 0, 9, 0, 10, 4},
    {4, 6, 9, 7, 8, 5, 2, 8, 0, 7, 9, 10, 0, 2, 0, 5, 10, 1, 10, 3, 5, 4, 2, 0, 5, 6, 9, 10, 1, 2, 7, 5, 8, 6, 2, 10, 3, 10, 1, 8, 9, 7, 3, 5, 8, 0, 0, 10, 0, 4},
    {4, 2, 1, 2, 1, 2, 1, 2, 1, 2, 9, 1, 10, 1, 2, 1, 8, 1, 2, 1, 5, 1, 9, 1, 7, 1, 2, 1, 10, 1, 5, 1, 7, 1, 2, 1, 6, 1, 2, 1, 8, 1, 10, 1, 2, 1, 7, 1, 5, 4},
    {4, 0, 2, 0, 10, 0, 2, 0, 6, 0, 7, 0, 8, 0, 10, 0, 2, 0, 2, 0, 4, 0, 8, 0, 2, 0, 10, 0, 6, 0, 5, 0, 5, 0, 8, 0, 2, 0, 6, 0, 9, 0, 5, 0, 3, 0, 9, 0, 10, 4},
    {4, 6, 9, 7, 8, 5, 2, 8, 0, 7, 9, 10, 0, 2, 0, 5, 10, 1, 10, 3, 5, 4, 2, 0, 5, 6, 9, 10, 1, 2, 7, 5, 8, 6, 2, 10, 3, 10, 1, 8, 9, 7, 3, 5, 8, 0, 0, 10, 0, 4},
    {4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4}
        }

        }; 



        //Parametros para el spawn del mapa
        float XInicial = 500.00f;
        float YInicial = 500.00f;
        float AnchoBloque = 100.0f;
        float LargoBloque = 100.0f;
        ABloque* BloqueActual = nullptr;
        // Declarar un array de punteros a objetos de tipo BloqueMadera
        TArray<ABloque*> aBloques;
        TArray <FVector> aposicionesLibresMadera;

        FTimerHandle MovimientoHorizontalTimer;

   


        //void SpawnBloques();
        void SpawnBloque(FVector posicion, int32 tipoBloque);
    
    };

